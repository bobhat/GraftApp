DROP TABLE APP.PROPERTY_TYPE

CREATE TABLE APP.PROPERTY_TYPE
(
PROP_TYPE_ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1,INCREMENT BY 1),
PROP_TYPE_DES VARCHAR(50) NOT NULL,
CONSTRAINT PROP_TYPE_ID_PK primary key (PROP_TYPE_ID)
);


CREATE TABLE APP.AGENT
(
 AGENT_ID           INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
 AGENT_FNAME        VARCHAR(24) NOT NULL,
 AGENT_LNAME        VARCHAR(24) NOT NULL,
 AGENT_ADDRESS1     VARCHAR(50) NOT NULL,
 AGENT_ADDRESS2     VARCHAR(50) NOT NULL,
 CONSTRAINT AGENT_ID_PK primary key (AGENT_ID)
);


CREATE TABLE APP.PROPERTY
(
 PROPERTY_ID		INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
 AGENT_ID           INTEGER NOT NULL,
 PROP_TYPE          INTEGER NOT NULL,
 DATE_TO_MARKET     DATE NOT NULL,
 DATE_SOLD          DATE NOT NULL,
 PROPERTY_OWNER     VARCHAR(50) NOT NULL,
 PROPERTY_NAME      VARCHAR(50) NOT NULL,
 PROPERTY_ADDRESS   VARCHAR(50) NOT NULL,
 PROPERTY_COST      INTEGER DEFAULT 0,
 CONSTRAINT PROPERTY_ID_PK primary key (PROPERTY_ID),
 CONSTRAINT PROP_TYPE_FK foreign key (PROP_TYPE)
 REFERENCES APP.PROPERTY_TYPE (PROP_TYPE_ID),
 CONSTRAINT AGENT_FK foreign key (AGENT_ID)
 REFERENCES APP.AGENT (AGENT_ID)
);


CREATE TABLE APP.HOUSE
(
 PROPERTY_ID		INTEGER NOT NULL,
 NUMBER_ROOMS		INTEGER NOT NULL,
 NUMBER_BATHROOMS	INTEGER NOT NULL,
 SQUARE_METERS		INTEGER NOT NULL,
 CONSTRAINT PROPERTY_PK primary key (PROPERTY_ID),
 CONSTRAINT PROPERTY_ID_FK foreign key (PROPERTY_ID)
 REFERENCES APP.PROPERTY(PROPERTY_ID)
);

CREATE TABLE APP.PHOTOS
(
PROPERTY_ID         INTEGER NOT NULL,
PROPERTY_PHOTO		BLOB(2147483647),
CONSTRAINT PROPERTY_PK2 primary key (PROPERTY_ID),
CONSTRAINT PROPERTY_ID_FK2 foreign key (PROPERTY_ID)
REFERENCES APP.PROPERTY(PROPERTY_ID)
);

CREATE TABLE APP.PHOTOSTEST
(
PHOTO_ID         INTEGER NOT NULL,
PROPERTY_PHOTO		BLOB(2147483647),
CONSTRAINT PHOTO_ID_PK primary key (PHOTO_ID)
);

